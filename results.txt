Number of components required to explain 98% of the variance: 448


Number of neighbors = 1
----------------------
Before PCA:
              precision    recall  f1-score   support

           0       0.43      0.48      0.45      1000
           1       0.65      0.23      0.34      1000
           2       0.24      0.38      0.30      1000
           3       0.30      0.26      0.28      1000
           4       0.26      0.48      0.33      1000
           5       0.36      0.28      0.32      1000
           6       0.33      0.35      0.34      1000
           7       0.57      0.30      0.39      1000
           8       0.40      0.61      0.48      1000
           9       0.60      0.19      0.28      1000

    accuracy                           0.36     10000
   macro avg       0.41      0.36      0.35     10000
weighted avg       0.41      0.36      0.35     10000


After PCA:
              precision    recall  f1-score   support

           0       0.30      0.33      0.31      1000
           1       0.23      0.04      0.06      1000
           2       0.16      0.26      0.19      1000
           3       0.19      0.18      0.19      1000
           4       0.19      0.39      0.25      1000
           5       0.23      0.17      0.19      1000
           6       0.19      0.21      0.20      1000
           7       0.21      0.06      0.09      1000
           8       0.29      0.51      0.37      1000
           9       0.32      0.07      0.12      1000

    accuracy                           0.22     10000
   macro avg       0.23      0.22      0.20     10000
weighted avg       0.23      0.22      0.20     10000



Number of neighbors = 3
----------------------
Before PCA:
              precision    recall  f1-score   support

           0       0.43      0.48      0.45      1000
           1       0.65      0.23      0.34      1000
           2       0.24      0.38      0.30      1000
           3       0.30      0.26      0.28      1000
           4       0.26      0.48      0.33      1000
           5       0.36      0.28      0.32      1000
           6       0.33      0.35      0.34      1000
           7       0.57      0.30      0.39      1000
           8       0.40      0.61      0.48      1000
           9       0.60      0.19      0.28      1000

    accuracy                           0.36     10000
   macro avg       0.41      0.36      0.35     10000
weighted avg       0.41      0.36      0.35     10000


After PCA:
              precision    recall  f1-score   support

           0       0.30      0.33      0.31      1000
           1       0.24      0.04      0.06      1000
           2       0.16      0.26      0.20      1000
           3       0.20      0.18      0.19      1000
           4       0.19      0.40      0.26      1000
           5       0.23      0.17      0.20      1000
           6       0.19      0.21      0.20      1000
           7       0.20      0.06      0.09      1000
           8       0.30      0.51      0.38      1000
           9       0.31      0.07      0.11      1000

    accuracy                           0.22     10000
   macro avg       0.23      0.22      0.20     10000
weighted avg       0.23      0.22      0.20     10000